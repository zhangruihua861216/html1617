<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<script src="js/购物车.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<form action="">
			
		</form>
	</body>
	<script type="text/javascript">
	   var baseUrl="http:127.0.0.1:5050/";
	//创建一个传递数据的表单
		var form=document.getElementsByTagName("form")[0];
		var ul=document.createElement("ul");
		form.appendChild(ul);
		for(var p in obj1){
			var mLi=document.createElement("li");
			var mSpan=document.createElement("span");
			var mInput=document.createElement("input");
			mSpan.innerHTML=obj1[p];
			mInput.setAttribute("name",p);
			mInput.setAttribute("type","text");
			mInput.setAttribute("value","");
			mLi.appendChild(mSpan);
			mLi.appendChild(mInput);
			ul.appendChild(mLi);
		}
		mLi=document.createElement("li");
		mSubmitButton=document.createElement("button");
		mSubmitButton.innerHTML="提交";
		mLi.appendChild(mSubmitButton);
		ul.appendChild(mLi);
		console.log("haha");
		//1.如何获取表单中的数据
		document.getElementsByTagName("button")[0].onclick=function(e){
		    console.log("hehe");			
		//获取表单的数据
		var inputs=document.querySelectorAll("input");

			for(var i=0;i<obj1.length;i++){
				
				obj1[inputs[i].getAttribute("name")]=inputs[i].value;
			}
			console.log(JSON.stringify(obj1));
			
		
			e.preventDefault();
		}
		//2.如何传递
		
		
		//3.接受响应
	</script>
	
	<script type="text/javascript">
				function createXHR(){
			//如果浏览器支持XMLHttpRquest那么直接创建返回该对象
			
			if(typeof XMLHttpRequest !="undefined"){
				return new XMLHttpRequest();
			}else if(typeof ActiveXObject !="undefined")
			{
				if(typeof arguments.callee.activeXString !="string"){
					var versions=['MSXML2.XMLHttp.6.0','MSXML2.XMLHttp.3.0','MSXML2.XMLHttp'];
					for(var i=0;i<versions.length;i++){
						try{
							new ActiveXObject(versions[i]);
							arguments.callee.activeXString=versions[i];
						}catch(e){
							
						}
						
					}
				}
				
				return new ActiveXObject(arguments.callee.activeXString);
			}else{
				throw new Error("无法正常创建ajax对象");
			}
		}
		
		

	</script>
</html>
